<div class="rec-struct-wrapper" category="category" droppable>
	<h1>{{category.title}}</h1>

	<h2 ng-show="category.publications.length>0">Publications</h2>
	<ol class="publication-container" ng-model="category.publications">
		<li class="pub" draggable pub="pub" parent-category="category" draggable-type="pub" ng-repeat="pub in category.publications | pubStructFilter:items" >
			<div sorta-droppable index="{{$index}}" parent-category="category">
				<p >{{pub.title}}</p>
			</div>
		</li>
	</ol>
	<button ng-click="addPublicationRecursive(category)">Add publication</button>

	<ol class="category-container" ng-model="category.subcategories">
		<li  ng-repeat="subcat in category.subcategories" draggable category="subcat" parent-category="category" draggable-type="category">
			<div class="sorta-droppable-category" sorta-droppable index="{{$index}}" parent-category="category">
				<recursive-structure category="subcat" items="items" add-category="addCategoryRecursive(subcat)" add-publication="addPublicationRecursive(subcat)" ></recursive-structure>
			</div>
		</li>
	</ol>
	<button ng-click="addCategoryRecursive(category)">Add category</button>
</div>


